/*
 * acme 1.0.0
 * Â© Greylab 2017. Tutti i Diritti riservati.
 * 
 * Luca Cattide - Front-End Web Developer <luca.cattide@greylab.it> | Greylab <http://www.greylab.it>
 * Rilasciato sotto licenza ISC.
*/
"use strict";function colori(){$(".colore").on("click tap",function(){$(".colore").removeClass("selezionato"),$(this).addClass("selezionato"),$("#nome-colore").html($(this).attr("data-color")),$("#sedia-colore").attr("src","img/"+$(this).attr("data-cod")+".png")})}function init(){Pace.on("done",()=>{$("#loading img").addClass("animated fadeOutDown"),$("#loading").fadeOut()}),initHeader(),initParallax(),initCarousel()}function initCarousel(){$(window).on("load resize",function(){$(this).width()<992&&$(".owl-carousel").length>0&&$(".owl-carousel").owlCarousel({items:2,responsive:{0:{items:1}}})})}function initHeader(){$(window).on("load resize",function(){$(this).width()>=768&&$("#header").length>0&&$("#header").headroom({offset:96,tolerance:5,classes:{initial:"animated",pinned:"slideInDown",unpinned:"slideOutUp"}})})}function initParallax(){$(window).on("load resize",function(){$(this).width()>=992?($("#chairs").removeClass("chairs-mobile"),$("#chairs").addClass("parallasse"),$('#chairs:not(".chairs-1").parallasse').parallax({imageSrc:"img/chairs.jpg",position:"center -580px"}),$("#chairs.chairs-1.parallasse").parallax({imageSrc:"img/chairs-1.jpg",position:"center -580px"})):($("#chairs").removeClass("parallasse"),$("#chairs").addClass("chairs-mobile"))})}function landing(){$(window).on("load resize",function(){$("#logo-acme").length>0&&($(this).width()<992?$("#logo-acme").insertBefore("#container-links"):$("#logo-acme").insertAfter("#casa").parent())})}function menu(){$(window).on("scroll",function(){$(this).scrollTop()>=0&&($("#menu-principale .navbar-nav a").removeClass("voce-attiva"),$('a[href="#chairs"]').addClass("voce-attiva")),$("#vr").length>0&&$(this).scrollTop()>=$("#vr").offset().top&&($("#menu-principale .navbar-nav a").removeClass("voce-attiva"),$('a[href="#vr"]').addClass("voce-attiva")),$("#preview").length>0&&$(this).scrollTop()>=$("#preview").offset().top&&($("#menu-principale .navbar-nav a").removeClass("voce-attiva"),$('a[href="#preview"]').addClass("voce-attiva")),$(this).scrollTop()>=$("#discover").offset().top&&($("#menu-principale .navbar-nav a").removeClass("voce-attiva"),$('a[href="#discover"]').addClass("voce-attiva")),$("#colori").length>0&&$(this).scrollTop()>=$("#colori").offset().top&&($("#menu-principale .navbar-nav a").removeClass("voce-attiva"),$('a[href="#colori"]').addClass("voce-attiva")),($(this).scrollTop()>=$("#quote").offset().top||$(this).scrollTop()+$(this).height()==$(document).height())&&($("#menu-principale .navbar-nav a").removeClass("voce-attiva"),$('a[href="#quote"]').addClass("voce-attiva"))}),$("#menu-principale .navbar-nav a").on("click tap",function(e){e.preventDefault(),$("#menu-principale .navbar-nav a").removeClass("voce-attiva"),$(this).addClass("voce-attiva"),$("html, body").animate({scrollTop:$(""+$(this).attr("href")).offset().top},"slow")})}function mobile(){$(window).on("load resize",function(){$(window).width()<992?($("#container-sedia-360").insertAfter($("#container-scopri")),$("#sedia-colore").insertAfter($("#colori article h2")),$(".progetto-sx img").appendTo("#progetto-mobile-1"),$(".progetto-dx img, .progetto-dx-1 img").appendTo("#progetto-mobile-2"),$("#container-logo-1").insertBefore("#info"),$("#sedia-360 img").attr({src:"/img/360-2-mobile/sedia-1.jpg","data-images":"/img/360-2-mobile/sedia-#.jpg"}),$("#claim-carousel").insertAfter("#container-sedia-360")):($("#container-scopri").insertAfter($("#container-sedia-360")),$("#sedia-colore").appendTo("#colori > .disattiva"),$("#progetto-mobile-1 img").appendTo(".progetto-sx"),$("#progetto-mobile-2 img").appendTo(".progetto-dx"),$("#container-logo-1").insertAfter("#info"),$("#sedia-360 img").attr({src:"/img/360-2/sedia-1.jpg","data-images":"/img/360-2/sedia-#.jpg"}),$("#claim-carousel").insertAfter("#sedia-1 + .owl-carousel"))})}function tips(){let e=!1;$("#tips h2").removeClass("aperto"),$("#tips article p, #explore").slideUp(),$(".freccia").on("click tap",function(){e?($(this).removeClass("attiva"),$("#tips h2").removeClass("aperto"),$("#tips article p, #explore").slideUp(),e=!1):($(this).addClass("attiva"),$("#tips h2").addClass("aperto"),$("#tips article p, #explore").slideDown(),e=!0)})}function preview(){$(".selettore").on("click tap",function(){let e=$(".selettore-colore",this).attr("data-id"),a=$(".selettore-colore",this).attr("data-type");$(this).parent().find(".selettore-colore").removeClass("selezionato deselezionato"),$(".selettore-colore",this).addClass("selezionato"),$(this).parent().find('.selettore-colore:not(".selezionato")').addClass("deselezionato"),$('.anteprima-sezione[data-type="'+a+'"]').attr("style",'background-image: url("img/anteprima/prosp/prosp_'+a+"_"+e+'.png");'),$('.anteprima-fronte-sezione[data-type="'+a+'"]').attr("style",'background-image: url("img/anteprima/front/front_'+a+"_"+e+'.png");'),$('.anteprima-lato-sezione[data-type="'+a+'"]').attr("style",'background-image: url("img/anteprima/side/side_'+a+"_"+e+'.png");')})}function tracker(){let e=0;$(document).on("input","#sedia-range",function(){let a=$(this).val();if(a<0&&a>=-360)if(a<e){let e=4;do $("#sedia-360 img").trigger("stepLeft"),e--;while(e>1)}else{let e=4;do $("#sedia-360 img").trigger("stepRight"),e--;while(e>1)}else if(a>0&&a<=360)if(a>e){let e=4;do $("#sedia-360 img").trigger("stepLeft"),e--;while(e>1)}else{let e=4;do $("#sedia-360 img").trigger("stepRight"),e--;while(e>1)}e=a})}function transizioni(){$(window).on("scroll",function(){if($(window).width()>=992){let e=!1;$("#sedia-360, #spin, #sedia-1, #discover h3").addClass("sfuma"),$("#sedia-2, .discover-lato-2 p, .colore, #container-progetti").addClass("sfuma"),$("#vr").length>0&&$(this).scrollTop()>=$("#vr").offset().top+$("#vr").outerHeight()/2&&($("#sedia-360, #spin").removeClass("sfuma"),$("#sedia-360").addClass("animated fadeIn"),$("#spin").addClass("animated flipInY")),$("#preview").length>0&&$(this).scrollTop()>=$("#preview").offset().top+$("#preview").outerHeight()/2?($("#sedia-1, #discover h3").removeClass("sfuma"),$("#sedia-1").addClass("animated fadeInLeft"),$("#discover h3").addClass("animated fadeInRight")):$(this).scrollTop()>=$("#discover").offset().top&&($("#sedia-1, #discover h3").removeClass("sfuma"),$("#sedia-1").addClass("animated fadeInLeft"),$("#discover h3").addClass("animated fadeInRight")),$(this).scrollTop()>=$("#sedia-1").offset().top+$("#sedia-1").outerHeight()/2&&($("#sedia-2, .discover-lato-2 p").removeClass("sfuma"),$("#sedia-2").addClass("animated fadeInRight"),$(".discover-lato-2 p").addClass("animated fadeInLeft")),$(this).scrollTop()>=$(".discover-lato-2").offset().top+$(".discover-lato-2").outerHeight()/2&&(e||($(".colore:nth-child(2)").removeClass("sfuma").delay(100).addClass("animated bounceIn"),setTimeout(function(){$(".colore:nth-child(3)").removeClass("sfuma").delay(150).addClass("animated bounceIn")},100),setTimeout(function(){$(".colore:nth-child(4)").removeClass("sfuma").delay(150).addClass("animated bounceIn")},150),setTimeout(function(){$(".colore:nth-child(5)").removeClass("sfuma").delay(200).addClass("animated bounceIn")},200),setTimeout(function(){$(".colore:nth-child(6)").removeClass("sfuma").delay(250).addClass("animated bounceIn")},250),e=!1)),$("#discover").length>0&&$(this).scrollTop()>=$("#discover").offset().top+$("#discover").outerHeight()/2&&($("#container-progetti").removeClass("sfuma"),$("#container-progetti").addClass("animated fadeInLeft"))}else $("#sedia-360, #spin, #sedia-1, #discover h3").removeClass("sfuma"),$("#sedia-2, .discover-lato-2 p, .colore, #container-progetti").removeClass("sfuma")})}function vr(){$("a-scene").on("exit-vr",function(){window.location.reload()})}$(document).ready(()=>{init(),landing(),mobile(),transizioni(),menu(),preview(),tips(),tracker(),colori(),vr()});